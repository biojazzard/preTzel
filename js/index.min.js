/*! app-bs - v0.1.0 - 2013-07-02 */!function(){var APPBIO,_this=this;APPBIO={OPTIONS:{NAME:"pretzel.com",DESC:"0.4g"},CONFIG:{PARAM:{VERSION:"0.1",DATE:"01.07.2013"}},init:function(){this.Script.init()}},APPBIO.Script=function(){var config,init,position,s,_log;return s=null,position=null,config={settings:{pretzel:!0,version:"static"}},init=function(){return s=config.settings,_log(s.version)},_log=function(m){return console.log(m)},{init:init}}(APPBIO,jQuery,Modernizr),APPBIO.App=function(){return APPBIO.init()}(APPBIO,jQuery),APPBIO=[],window.APPBIO=APPBIO,function(){var lastTime,vendor,vendors,_i,_len;for(lastTime=0,vendors=["ms","moz","webkit","o"],_this.raf=function(_v){return window.requestAnimationFrame=window[_v+"RequestAnimationFrame"],window.cancelAnimationFrame=window[_v+"cancelAnimationFrame"]||window[_v+"cancelAnimationFrame"]},_i=0,_len=vendors.length;_len>_i;_i++)vendor=vendors[_i],_this.raf(vendor);return window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime,id,timeToCall;return currTime=Date(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall),lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame?void 0:window.cancelAnimationFrame=function(id){clearTimeout(id)}}(),function($){var $document,$window;return $window=$(window),$document=$(document),$document.on("flatdoc:ready",function(){return $("h2, h3").scrollagent(function(cid,pid){return pid&&$("[href='#"+pid+"']").removeClass("active"),cid?$("[href='#"+cid+"']").addClass("active"):void 0})}),$document.on("flatdoc:ready",function(){return $(".menu a").anchorjump()}),$(function(){var $card,$header,headerHeight;return $card=$(".title-card"),$card.length?($header=$(".header"),headerHeight=$header.length?$header.outerHeight():0,$window.on("resize.title-card",function(){var height,windowWidth;return windowWidth=$window.width(),480>windowWidth?$card.css("height",""):(height=$window.height(),$card.css("height",height-headerHeight))}).trigger("resize.title-card"),$card.fillsize("> img.bg")):void 0}),$(function(){var $sidebar,elTop;return $sidebar=$(".menubar"),elTop=void 0,$window.on("resize.sidestick",function(){return elTop=$sidebar.offset().top,$window.trigger("scroll.sidestick")}).on("scroll.sidestick",function(){var scrollY;return scrollY=$window.scrollTop(),$sidebar.toggleClass("fixed",scrollY>=elTop)}).trigger("resize.sidestick")})}(jQuery),function($){return $.fn.scrollagent=function(options,callback){var $parent,$sections,current,height,offsets,range;return"undefined"==typeof callback&&(callback=options,options={}),$sections=$(this),$parent=options.parent||$(window),offsets=[],$sections.each(function(i){var offset;return offset=$(this).attr("data-anchor-offset")?parseInt($(this).attr("data-anchor-offset"),10):options.offset||0,offsets.push({top:$(this).offset().top+offset,id:$(this).attr("id"),index:i,el:this})}),current=null,height=null,range=null,$(window).on("resize",function(){return height=$parent.height(),range=$(document).height()}),$parent.on("scroll",function(){var i,latest,offset,y;y=$parent.scrollTop(),y+=height*(.3+.7*Math.pow(y/range,2)),latest=null;for(i in offsets)offsets.hasOwnProperty(i)&&(offset=offsets[i],offset.top<y&&(latest=offset));return!latest||current&&latest.index===current.index?void 0:(callback.call($sections,latest?latest.id:null,current?current.id:null,latest?latest.el:null,current?current.el:null),current=latest)}),$(window).trigger("resize"),$parent.trigger("scroll"),this}}(jQuery),function($){var defaults;return defaults={speed:500,offset:0,"for":null,parent:null},$.fn.anchorjump=function(options){var onClick;return onClick=function(e){var $a,href;return $a=$(e.target).closest("a"),e.ctrlKey||e.metaKey||e.altKey||$a.attr("target")?void 0:(e.preventDefault(),href=$a.attr("href"),$.anchorjump(href,options))},options=$.extend({},defaults,options),options["for"]?this.on("click",options["for"],onClick):this.on("click",onClick)},$.anchorjump=function(href,options){var $area,$parent,offset,top;if(options=$.extend({},defaults,options),top=0,"#"!==href){if($area=$(href),options.parent&&($parent=$area.closest(options.parent),$parent.length&&($area=$parent)),!$area.length)return;offset=$area.attr("data-anchor-offset")?parseInt($area.attr("data-anchor-offset"),10):options.offset,top=Math.max(0,$area.offset().top+offset)}return $("html, body").animate({scrollTop:top},options.speed),$("body").trigger("anchor",href),window.history.pushState?window.history.pushState({href:href},"",href):void 0}}(jQuery),function($){return $.fn.fillsize=function(selector){var $img,$parent,resize;return resize=function(){var $img;return $img||($img=$parent.find(selector)),$img.each(function(){var containerRatio,css,imageRatio,parent;if(this.complete)return $img=$(this),parent={height:$parent.innerHeight(),width:$parent.innerWidth()},imageRatio=$img.width()/$img.height(),containerRatio=parent.width/parent.height,css={position:"absolute",left:0,top:0,right:"auto",bottom:"auto"},imageRatio>containerRatio?(css.left=Math.round((parent.width-imageRatio*parent.height)/2)+"px",css.width="auto",css.height="100%"):(css.top=Math.round((parent.height-parent.width/$img.width()*$img.height())/2)+"px",css.height="auto",css.width="100%"),$img.css(css)})},$parent=this,$img=void 0,$(window).resize(resize),$(document).on("fillsize",$parent.selector,resize),$(function(){return $(selector,$parent).bind("load",function(){return setTimeout(resize,25)}),resize()}),this}}(jQuery)}.call(this);